"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),n=require("react-use-gesture"),t=require("styled-components");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(e),i=r(t),a=function(){return a=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},a.apply(this,arguments)};function u(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}"function"==typeof SuppressedError&&SuppressedError;var l,s,c,f,d,p,v=i.default.div(l||(l=u(["\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n"],["\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n"]))),m=i.default.div(s||(s=u(["\n  display: flex;\n  transition: transform 0.3s ease-in-out;\n"],["\n  display: flex;\n  transition: transform 0.3s ease-in-out;\n"]))),h=i.default.div(c||(c=u(["\n  flex: 0 0 ","%;\n"],["\n  flex: 0 0 ","%;\n"])),(function(e){return 100/e.visibleItems})),b=i.default.button(f||(f=u(["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 24px;\n  border: none;\n  cursor: pointer;\n  z-index: 1;\n"],["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 24px;\n  border: none;\n  cursor: pointer;\n  z-index: 1;\n"]))),y=i.default(b)(d||(d=u(["\n  left: 10px;\n"],["\n  left: 10px;\n"]))),x=i.default(b)(p||(p=u(["\n  right: 10px;\n"],["\n  right: 10px;\n"])));exports.Carousel=function(t){var r=t.isInfinite,i=t.children,u=t.visibleItems,l=void 0===u?3:u,s=e.useState(r?i.length:0),c=s[0],f=s[1],d=e.useState(!1),p=d[0],b=d[1],E=e.useState(!1),g=E[0],w=E[1],k=e.useRef(null),I=e.useState(0),j=I[0],M=I[1],O=i.length,S=1e3,P=Math.floor(O/2);e.useEffect((function(){var e;M((null===(e=k.current)||void 0===e?void 0:e.offsetWidth)||0)}),[]),e.useEffect((function(){if(p){if(0===c){var e=setTimeout((function(){b(!1),f(O)}),S);return function(){return clearTimeout(e)}}if(c===2*O){var n=setTimeout((function(){b(!1),f(O)}),S);return function(){return clearTimeout(n)}}}else f(r?c%O+O:c%O)}),[c,p,O,S]);var T=n.useDrag((function(e){var n=e.down,t=e.movement[0],o=e.velocity,i=e.direction[0];if(n){var a=j/l*-c+t;k.current&&(k.current.style.transition="none",k.current.style.transform="translateX(".concat(a,"px)"))}else{var u=Math.min(P,Math.round(Math.abs(t/(j/l))*o)),s=c-Math.round(t/(j/l))-u*(i>0?1:-1);r||(s<0?s=0:s>=O-l+1&&(s=O-l)),f(s),b(!0)}w(n)})),z=-c*(j/l);return e.useEffect((function(){!g&&k.current&&(k.current.style.transition=p?"".concat(S,"ms"):"none",k.current.style.transform="translateX(".concat(z,"px)"))}),[g,z,p,S]),o.default.createElement(v,null,o.default.createElement(y,{onClick:function(){p||(r||c>0)&&(b(!0),f((function(e){return e-1})))}},"Prev"),o.default.createElement(m,a({visibleItems:l,ref:k,onTransitionEnd:function(){b(!1),(0===c||c===2*O)&&f(O)}},T()),r&&i.map((function(e,n){return o.default.createElement(h,{visibleItems:l,key:"clone-prev-".concat(n),style:{minWidth:"".concat(100/l,"%")}},e)})),i.map((function(e,n){return o.default.createElement(h,{visibleItems:l,key:n,style:{minWidth:"".concat(100/l,"%")}},e)})),r&&i.map((function(e,n){return o.default.createElement(h,{visibleItems:l,key:"clone-next-".concat(n),style:{minWidth:"".concat(100/l,"%")}},e)}))),o.default.createElement(x,{onClick:function(){(r||c<O-l)&&(b(!0),f((function(e){return e+1})))}},"Next"))};
//# sourceMappingURL=index.cjs.js.map
